// Documentation Showcase Theme
// Based on svelte-treeview color scheme

/*
CUSTOMIZATION GUIDE:
To customize typography and spacing, override variables before importing main.scss:

// In your custom SCSS file:
@import '@keenmate/svelte-docs/styles/variables';

// Override variables as needed:
$h2-margin-top: 2rem;           // Increase h2 top margin
$h2-margin-bottom: 1rem;        // Increase h2 bottom margin
$heading-color-h2: #ff6b35;     // Change h2 color
$code-bg-color: #f0f0f0;        // Change code background
$link-color: #ff6b35;           // Change link color

@import '@keenmate/svelte-docs/styles/main.scss';

Available variable categories:
- Typography Spacing: $h1-margin-top, $h2-margin-top, etc.
- Typography Colors: $heading-color-h1, $heading-color-h2, etc.
- Content Spacing: $paragraph-margin-bottom, $list-padding-left, etc.
- Code Styling: $code-bg-color, $pre-bg-color, etc.
- Layout: $navbar-height, $sidebar-width, etc.
*/

// Import variables (can be overridden before this import)
@use './variables' as *;

// CSS Custom Properties
:root {
	--docs-primary: #{$primary-color};
	--docs-primary-rgb: #{$primary-color-rgb};
	--docs-secondary: #{$secondary-color};
	--docs-secondary-rgb: #{$secondary-color-rgb};
	--docs-dark: #{$dark-color};
	--docs-light: #{$light-color};
	--docs-border: #{$border-color};
	--docs-body-color: #{$body-color};
	--navbar-height: #{$navbar-height};
	--sidebar-width: #{$sidebar-width};
	--footer-height: #{$footer-height};
}

// Global Styles
body {
	margin: 0;
	padding: 0;
	padding-top: var(--navbar-height);
	font-family: $font-family-base;
	color: var(--docs-body-color);
	line-height: 1.6;
	background-color: #fafafa;
}

// Global Typography Styles
h1 {
	color: $heading-color-h1;
	margin-top: $h1-margin-top;
	margin-bottom: $h1-margin-bottom;
}

h2 {
	color: $heading-color-h2;
	margin-top: $h2-margin-top;
	margin-bottom: $h2-margin-bottom;
}

h3 {
	color: $heading-color-h3;
	margin-top: $h3-margin-top;
	margin-bottom: $h3-margin-bottom;
}

h4 {
	color: $heading-color-h4;
	margin-top: $h4-margin-top;
	margin-bottom: $h4-margin-bottom;
}

h5 {
	color: $heading-color-h5;
	margin-top: $h5-margin-top;
	margin-bottom: $h5-margin-bottom;
}

h6 {
	color: $heading-color-h6;
	margin-top: $h6-margin-top;
	margin-bottom: $h6-margin-bottom;
}

// Remove top margin from first heading in content
h1:first-child, h2:first-child, h3:first-child, h4:first-child, h5:first-child, h6:first-child {
	margin-top: 0;
}

// Paragraph styling
p {
	margin-bottom: $paragraph-margin-bottom;
}

// Code styling
code {
	background-color: $code-bg-color;
	padding: $code-padding;
	border-radius: $code-border-radius;
	font-family: $font-family-monospace;
	font-size: $code-font-size;
}

pre {
	background-color: $pre-bg-color;
	color: $pre-text-color;
	padding: $pre-padding;
	border-radius: $pre-border-radius;
	overflow-x: auto;
	margin: $pre-margin;
}

pre code {
	background-color: transparent;
	padding: 0;
	color: inherit;
}

// List styling
ul, ol {
	padding-left: $list-padding-left;
	margin-bottom: $list-margin-bottom;
}

li {
	margin-bottom: $list-item-margin-bottom;
}

// Link styling
a {
	color: $link-color;
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

// Blockquote styling
blockquote {
	border-left: 4px solid $border-color-light;
	margin: $blockquote-margin;
	padding-left: $blockquote-padding-left;
	color: $text-muted-color;
}

// Table styling
table {
	width: 100%;
	border-collapse: collapse;
	margin: $table-margin;
}

th, td {
	border: 1px solid $border-color-light;
	padding: 0.5rem;
	text-align: left;
}

th {
	background-color: $table-header-bg;
	font-weight: 600;
}

// Global navigation icon consistency
.nav-link, .navbar-nav .nav-link {
	// Ensure all navigation icons have consistent width
	span.me-1, span.me-2 {
		display: inline-block;
		width: 1.5rem;
		text-align: center;
		flex-shrink: 0; // Prevent icon from shrinking
	}
}

// Main Wrapper
.main-wrapper {
	min-height: calc(100vh - var(--navbar-height) - var(--footer-height));
	display: flex;
}

// Navbar Styles
.navbar {
	background: linear-gradient(135deg, $dark-color 0%, $secondary-color 100%) !important;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
	border-bottom: 2px solid $primary-color;
	height: var(--navbar-height);

	.navbar-brand {
		color: $light-color !important;
		font-size: 1.25rem;
		max-width: calc(100vw - 200px); // Leave space for burger menu and GitHub button
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
		display: inline-block;

		&:hover {
			color: $primary-color !important;
		}

		small {
			font-size: 0.75rem;
			color: rgba($primary-color, 0.8) !important;
			opacity: 0.8;
		}
	}

	.navbar-toggler {
		border: 1px solid rgba($primary-color, 0.5);
		padding: 0.375rem 0.5rem;
		background-color: rgba($primary-color, 0.05);
		display: block !important; // Always visible in both desktop and mobile

		&:focus {
			box-shadow: 0 0 0 0.2rem rgba($primary-color, 0.25);
			outline: none;
		}

		&:hover {
			border-color: $primary-color;
			background-color: rgba($primary-color, 0.15);
		}
	}

	.navbar-toggler-icon {
		background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
	}

	.navbar-nav .nav-link {
		display: flex;
		align-items: center;
		color: rgba($light-color, 0.9) !important;
		transition: all 0.2s ease;
		border-radius: 0.375rem;
		padding: 0.5rem 0.75rem;

		&:hover {
			color: $primary-color !important;
			background-color: rgba($primary-color, 0.1);
			transform: translateY(-1px);
		}

		// Ensure consistent icon width in navbar
		span:first-child {
			display: inline-block;
			width: 1.5rem;
			text-align: center;
		}
	}
}

// Sidebar Styles
.sidebar {
	width: var(--sidebar-width) !important;
	min-width: var(--sidebar-width);
	max-width: var(--sidebar-width);
	flex-shrink: 0;
	position: relative;
	padding-top: 1rem;
	background: linear-gradient(180deg, $secondary-color 0%, $dark-color 100%) !important;

	.nav-pills {
		padding: 1rem;
	}

	.nav-link {
		color: rgba($light-color, 0.9) !important;
		transition: all 0.2s ease;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
		margin-bottom: 0.5rem;
		border-radius: 0.5rem;

		// Ensure consistent structure for all nav items
		&.d-flex {
			padding: 0.5rem 0.75rem !important;
		}

		&:hover:not(.active) {
			background-color: rgba($primary-color, 0.15) !important;
			color: $primary-color !important;
		}

		&.active {
			background: linear-gradient(135deg, $primary-color 0%, $color-primary-dark 100%) !important;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
			color: $light-color !important;
		}

		span:first-child {
			display: inline-block;
			width: 1.5rem;
			text-align: center;
		}

		// Fix for icon spans with .me-2 class
		.me-2 {
			display: inline-block;
			width: 1.5rem;
			text-align: center;
			margin-right: 0.5rem !important;
		}
	}

	// Special styles for button nav-links (parent items)
	button.nav-link {
		width: 100%;
		border: none;
		background: none;
		cursor: pointer;
		text-align: left;
		padding: 0.5rem 0.75rem !important;

		&:focus {
			box-shadow: none;
			outline: none;
		}
	}
}

// Sidebar Backdrop for mobile
.sidebar-backdrop {
	position: fixed;
	top: var(--navbar-height);
	left: 0;
	width: 100vw;
	height: calc(100vh - var(--navbar-height));
	background-color: rgba(0, 0, 0, 0.5);
	z-index: 1040;
}

// Sidebar visibility control
.sidebar {
	transition: transform 0.3s ease, opacity 0.3s ease;

	&.sidebar-visible {
		display: block;
		opacity: 1;
		transform: translateX(0);
	}

	&.sidebar-hidden {
		// Desktop: hide by shifting left
		@media (min-width: 992px) {
			display: none;
		}

		// Mobile: hide by default
		@media (max-width: 991.98px) {
			display: none;
		}
	}
}

// Mobile sidebar overlay
@media (max-width: 991.98px) {
	.sidebar {
		position: fixed;
		top: var(--navbar-height);
		left: 0;
		height: calc(100vh - var(--navbar-height));
		z-index: 1050;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
		padding-top: 1rem;
	}
}

// Footer Styles
footer {
	margin-top: auto;
	background: linear-gradient(135deg, $color-primary-dark 0%, $secondary-color 100%) !important;
	box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.2);
	min-height: var(--footer-height);
	display: flex;
	align-items: center;

	a {
		color: $light-color !important;
		transition: all 0.2s ease;

		&:hover {
			color: $primary-color !important;
			text-shadow: 0 0 8px rgba($primary-color, 0.5);
		}
	}
}

// Showcase Section Styles
.showcase-section {
	margin-bottom: 3rem;

	h2 {
		color: var(--docs-secondary);
		margin-bottom: 0.5rem;
	}

	.demo-container {
		min-height: 300px;
		max-height: 500px;
		overflow: auto;
		background-color: var(--docs-light);
		border: 1px solid var(--docs-border);
		border-radius: 0.5rem;
		padding: 1rem;
	}

	.controls-container {
		.form-group {
			margin-bottom: 1rem;
		}

		.form-label {
			font-weight: 500;
			color: var(--docs-secondary);
			margin-bottom: 0.25rem;
		}
	}

	.description-container {
		font-size: 0.95rem;

		h6 {
			color: #495057;
			font-weight: 600;
			margin-top: 1rem;
			margin-bottom: 0.5rem;
		}

		code {
			background-color: var(--docs-light);
			padding: 0.2rem 0.4rem;
			border-radius: 0.25rem;
			font-size: 0.875em;
			font-family: $font-family-monospace;
			color: #e83e8c;
		}

		pre {
			background-color: #1e293b;
			color: #e2e8f0;
			padding: 1rem;
			border-radius: 0.5rem;
			overflow-x: auto;
			margin: 1rem 0;

			code {
				background-color: transparent;
				padding: 0;
				color: inherit;
			}
		}
	}
}

// Code Rendering Components Styles

// CodeRenderer - Core code content styles
.code-content {
	margin: 0;
	padding: 1rem;
	background-color: $pre-bg-color;
	color: $pre-text-color;
	overflow-x: auto;
	font-family: $font-family-monospace;
	font-size: $code-font-size;
	line-height: 1.5;

	&.has-title {
		padding-top: 0.75rem;
	}

	// Nested code element styles
	> code {
		background: none;
		padding: 0;
		color: inherit;
		font-size: inherit;
		font-family: inherit;
	}
}

// CodeBlock - Block container styles
.code-block {
	position: relative;
	margin: 1rem 0;
	border-radius: 0.5rem;
	overflow: hidden;
	background-color: $pre-bg-color;

	.code-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 0.75rem 1rem;
		background-color: #334155;
		border-bottom: 1px solid #475569;
	}

	.code-title {
		color: $pre-text-color;
		font-size: 0.9em;
		font-weight: 500;
	}

	.copy-button {
		background: none;
		border: 1px solid #475569;
		color: #94a3b8;
		padding: 0.25rem 0.5rem;
		border-radius: 0.25rem;
		cursor: pointer;
		font-size: 0.8em;
		transition: all 0.2s;

		&:hover {
			background-color: #475569;
			color: $pre-text-color;
		}

		&.floating {
			position: absolute;
			top: 0.5rem;
			right: 0.5rem;
			padding: 0.375rem;
			border-radius: 0.375rem;
			background-color: #334155;
		}
	}
}

// CodeShowcase - Tabbed code display styles
.code-showcase {
	margin: 1.5rem 0;

	.code-tabs {
		border-bottom: 2px solid var(--docs-border);
		margin-bottom: 0;

		.nav-link {
			color: var(--docs-body-color);
			border: none;
			border-bottom: 3px solid transparent;
			border-radius: 0;
			padding: 0.75rem 1rem;
			transition: all 0.2s ease;
			background: none;
			cursor: pointer;
			display: flex;
			align-items: center;

			&:hover {
				color: var(--docs-primary);
				background-color: rgba(var(--docs-primary-rgb), 0.05);
			}

			&.active {
				color: var(--docs-primary);
				background-color: transparent;
				border-bottom-color: var(--docs-primary);
				font-weight: 500;
			}
		}
	}

	.code-content {
		background-color: $pre-bg-color;
		border-radius: 0 0 0.5rem 0.5rem;
		position: relative;
		min-height: 100px;
		padding: 1.5rem !important; // Override default for showcase

		.copy-button {
			position: absolute;
			top: 0.75rem;
			right: 0.75rem;
			background-color: rgba(255, 255, 255, 0.1);
			border: 1px solid rgba(255, 255, 255, 0.2);
			color: #94a3b8;
			padding: 0.375rem 0.75rem;
			border-radius: 0.375rem;
			cursor: pointer;
			font-size: 0.8rem;
			transition: all 0.2s;
			z-index: 2;

			&:hover {
				background-color: rgba(255, 255, 255, 0.2);
				color: $pre-text-color;
			}

			&.copied {
				background-color: rgba(34, 197, 94, 0.2);
				border-color: rgba(34, 197, 94, 0.4);
				color: #86efac;
			}
		}
	}
}

// Highlight.js theme customization for dark theme
.code-content .hljs-keyword,
.code-content .hljs-selector-tag,
.code-content .hljs-literal,
.code-content .hljs-section,
.code-content .hljs-link {
	color: #c792ea;
}

.code-content .hljs-string,
.code-content .hljs-attr {
	color: #c3e88d;
}

.code-content .hljs-comment,
.code-content .hljs-quote {
	color: #546e7a;
	font-style: italic;
}

.code-content .hljs-number,
.code-content .hljs-regexp,
.code-content .hljs-literal {
	color: #f78c6c;
}

.code-content .hljs-function,
.code-content .hljs-title {
	color: #82aaff;
}

.code-content .hljs-variable,
.code-content .hljs-template-variable {
	color: #f07178;
}

.code-content .hljs-tag,
.code-content .hljs-name {
	color: #f07178;
}

.code-content .hljs-type,
.code-content .hljs-class,
.code-content .hljs-built_in {
	color: #ffcb6b;
}

.code-content .hljs-attribute {
	color: #c792ea;
}

.code-content .hljs-symbol,
.code-content .hljs-bullet,
.code-content .hljs-link {
	color: #82aaff;
}


// Card Styles
.card {
	border: 1px solid var(--docs-border);
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
	transition: all 0.2s ease;

	&:hover {
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
		transform: translateY(-2px);
	}

	.card-title {
		color: var(--docs-secondary);
	}
}

// Jumbotron Styles
.jumbotron {
	background-color: var(--docs-light) !important;
	border: 1px solid var(--docs-border);

	.display-4 {
		color: var(--docs-secondary);
		font-weight: 600;
	}

	.lead {
		color: #6c757d;
	}

	hr {
		border-color: var(--docs-border);
	}
}

// Utility Classes
.text-primary {
	color: var(--docs-primary) !important;
}

.text-secondary {
	color: var(--docs-secondary) !important;
}

.bg-primary {
	background-color: var(--docs-primary) !important;
}

.bg-secondary {
	background-color: var(--docs-secondary) !important;
}

.btn-primary {
	background-color: var(--docs-primary);
	border-color: var(--docs-primary);

	&:hover {
		background-color: $color-primary-dark;
		border-color: $color-primary-dark;
	}
}

.btn-outline-primary {
	color: var(--docs-primary);
	border-color: var(--docs-primary);

	&:hover {
		background-color: var(--docs-primary);
		border-color: var(--docs-primary);
	}
}