// Documentation Showcase Theme
// Based on svelte-treeview color scheme

// Color Variables - Coolors palette
$color-primary: #00A7E1 !default;
$color-primary-dark: #007EA7 !default;
$color-secondary: #003459 !default;
$color-dark: #00171F !default;
$color-light: #FFFFFF !default;

// Bootstrap-like color variables
$primary-color: $color-primary !default;
$primary-color-rgb: 0, 167, 225 !default;
$secondary-color: $color-secondary !default;
$secondary-color-rgb: 0, 52, 89 !default;
$dark-color: $color-dark !default;
$light-color: #f8f9fa !default;
$border-color: #dee2e6 !default;
$body-color: #212529 !default;

// Component Variables
$navbar-height: 56px !default;
$sidebar-width: 280px !default;
$footer-height: 60px !default;

// Typography
$font-family-base:
	-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
	'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif !default;
$font-family-monospace: 'Courier New', Monaco, 'Cascadia Code', 'Roboto Mono', monospace !default;

// CSS Custom Properties
:root {
	--docs-primary: #{$primary-color};
	--docs-primary-rgb: #{$primary-color-rgb};
	--docs-secondary: #{$secondary-color};
	--docs-secondary-rgb: #{$secondary-color-rgb};
	--docs-dark: #{$dark-color};
	--docs-light: #{$light-color};
	--docs-border: #{$border-color};
	--docs-body-color: #{$body-color};
	--navbar-height: #{$navbar-height};
	--sidebar-width: #{$sidebar-width};
	--footer-height: #{$footer-height};
}

// Global Styles
body {
	margin: 0;
	padding: 0;
	padding-top: var(--navbar-height);
	font-family: $font-family-base;
	color: var(--docs-body-color);
}

// Global navigation icon consistency
.nav-link, .navbar-nav .nav-link {
	// Ensure all navigation icons have consistent width
	span.me-1, span.me-2 {
		display: inline-block;
		width: 1.5rem;
		text-align: center;
		flex-shrink: 0; // Prevent icon from shrinking
	}
}

// Main Wrapper
.main-wrapper {
	min-height: calc(100vh - var(--navbar-height) - var(--footer-height));
	display: flex;
}

// Navbar Styles
.navbar {
	background: linear-gradient(135deg, $dark-color 0%, $secondary-color 100%) !important;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
	border-bottom: 2px solid $primary-color;
	height: var(--navbar-height);

	.navbar-brand {
		color: $light-color !important;
		font-size: 1.25rem;

		&:hover {
			color: $primary-color !important;
		}

		small {
			font-size: 0.75rem;
			color: rgba($primary-color, 0.8) !important;
			opacity: 0.8;
		}
	}

	.navbar-toggler {
		border: 1px solid rgba($primary-color, 0.5);
		padding: 0.375rem 0.5rem;
		display: block !important;
		background-color: rgba($primary-color, 0.05);

		&:focus {
			box-shadow: 0 0 0 0.2rem rgba($primary-color, 0.25);
			outline: none;
		}

		&:hover {
			border-color: $primary-color;
			background-color: rgba($primary-color, 0.15);
		}
	}

	.navbar-toggler-icon {
		background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
	}

	.navbar-nav .nav-link {
		display: flex;
		align-items: center;
		color: rgba($light-color, 0.9) !important;
		transition: all 0.2s ease;
		border-radius: 0.375rem;
		padding: 0.5rem 0.75rem;

		&:hover {
			color: $primary-color !important;
			background-color: rgba($primary-color, 0.1);
			transform: translateY(-1px);
		}

		// Ensure consistent icon width in navbar
		span:first-child {
			display: inline-block;
			width: 1.5rem;
			text-align: center;
		}
	}
}

// Sidebar Styles
.sidebar {
	width: var(--sidebar-width) !important;
	min-width: var(--sidebar-width);
	max-width: var(--sidebar-width);
	flex-shrink: 0;
	position: relative;
	padding-top: 1rem;
	background: linear-gradient(180deg, $secondary-color 0%, $dark-color 100%) !important;

	.nav-pills {
		padding: 1rem;
	}

	.nav-link {
		color: rgba($light-color, 0.9) !important;
		transition: all 0.2s ease;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
		margin-bottom: 0.5rem;
		border-radius: 0.5rem;

		// Ensure consistent structure for all nav items
		&.d-flex {
			padding: 0.5rem 0.75rem !important;
		}

		&:hover:not(.active) {
			background-color: rgba($primary-color, 0.15) !important;
			color: $primary-color !important;
		}

		&.active {
			background: linear-gradient(135deg, $primary-color 0%, $color-primary-dark 100%) !important;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
			color: $light-color !important;
		}

		span:first-child {
			display: inline-block;
			width: 1.5rem;
			text-align: center;
		}

		// Fix for icon spans with .me-2 class
		.me-2 {
			display: inline-block;
			width: 1.5rem;
			text-align: center;
			margin-right: 0.5rem !important;
		}
	}

	// Special styles for button nav-links (parent items)
	button.nav-link {
		width: 100%;
		border: none;
		background: none;
		cursor: pointer;
		text-align: left;
		padding: 0.5rem 0.75rem !important;

		&:focus {
			box-shadow: none;
			outline: none;
		}
	}
}

// Sidebar Backdrop for mobile
.sidebar-backdrop {
	position: fixed;
	top: var(--navbar-height);
	left: 0;
	width: 100vw;
	height: calc(100vh - var(--navbar-height));
	background-color: rgba(0, 0, 0, 0.5);
	z-index: 1040;
}

// Mobile sidebar overlay
@media (max-width: 991.98px) {
	.sidebar {
		position: fixed;
		top: var(--navbar-height);
		left: 0;
		height: calc(100vh - var(--navbar-height));
		z-index: 1050;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
		padding-top: 1rem;
	}
}

// Footer Styles
footer {
	margin-top: auto;
	background: linear-gradient(135deg, $color-primary-dark 0%, $secondary-color 100%) !important;
	box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.2);
	min-height: var(--footer-height);
	display: flex;
	align-items: center;

	a {
		color: $light-color !important;
		transition: all 0.2s ease;

		&:hover {
			color: $primary-color !important;
			text-shadow: 0 0 8px rgba($primary-color, 0.5);
		}
	}
}

// Showcase Section Styles
.showcase-section {
	margin-bottom: 3rem;

	h2 {
		color: var(--docs-secondary);
		margin-bottom: 0.5rem;
	}

	.demo-container {
		min-height: 300px;
		max-height: 500px;
		overflow: auto;
		background-color: var(--docs-light);
		border: 1px solid var(--docs-border);
		border-radius: 0.5rem;
		padding: 1rem;
	}

	.controls-container {
		.form-group {
			margin-bottom: 1rem;
		}

		.form-label {
			font-weight: 500;
			color: var(--docs-secondary);
			margin-bottom: 0.25rem;
		}
	}

	.description-container {
		font-size: 0.95rem;

		h6 {
			color: #495057;
			font-weight: 600;
			margin-top: 1rem;
			margin-bottom: 0.5rem;
		}

		code {
			background-color: var(--docs-light);
			padding: 0.2rem 0.4rem;
			border-radius: 0.25rem;
			font-size: 0.875em;
			font-family: $font-family-monospace;
			color: #e83e8c;
		}

		pre {
			background-color: #1e293b;
			color: #e2e8f0;
			padding: 1rem;
			border-radius: 0.5rem;
			overflow-x: auto;
			margin: 1rem 0;

			code {
				background-color: transparent;
				padding: 0;
				color: inherit;
			}
		}
	}
}

// Code Block Component Styles
.code-showcase {
	margin: 2rem 0;

	.code-tabs {
		border-bottom: 2px solid var(--docs-border);
		margin-bottom: 0;

		.nav-link {
			color: var(--docs-body-color);
			border: none;
			border-bottom: 3px solid transparent;
			border-radius: 0;
			padding: 0.5rem 1rem;
			transition: all 0.2s ease;

			&:hover {
				color: var(--docs-primary);
				background-color: rgba(var(--docs-primary-rgb), 0.05);
			}

			&.active {
				color: var(--docs-primary);
				background-color: transparent;
				border-bottom-color: var(--docs-primary);
			}
		}
	}

	.code-content {
		background-color: #1e293b;
		border-radius: 0 0 0.5rem 0.5rem;
		position: relative;

		.copy-button {
			position: absolute;
			top: 0.5rem;
			right: 0.5rem;
			background-color: rgba(255, 255, 255, 0.1);
			border: 1px solid rgba(255, 255, 255, 0.2);
			color: #94a3b8;
			padding: 0.25rem 0.5rem;
			border-radius: 0.25rem;
			cursor: pointer;
			font-size: 0.8rem;
			transition: all 0.2s;

			&:hover {
				background-color: rgba(255, 255, 255, 0.2);
				color: #e2e8f0;
			}

			&.copied {
				background-color: rgba(34, 197, 94, 0.2);
				border-color: rgba(34, 197, 94, 0.4);
				color: #86efac;
			}
		}

		pre {
			margin: 0;
			padding: 1rem;
			color: #e2e8f0;
			overflow-x: auto;

			code {
				font-family: $font-family-monospace;
				font-size: 0.9em;
				line-height: 1.5;
			}
		}
	}
}

// Card Styles
.card {
	border: 1px solid var(--docs-border);
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
	transition: all 0.2s ease;

	&:hover {
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
		transform: translateY(-2px);
	}

	.card-title {
		color: var(--docs-secondary);
	}
}

// Jumbotron Styles
.jumbotron {
	background-color: var(--docs-light) !important;
	border: 1px solid var(--docs-border);

	.display-4 {
		color: var(--docs-secondary);
		font-weight: 600;
	}

	.lead {
		color: #6c757d;
	}

	hr {
		border-color: var(--docs-border);
	}
}

// Utility Classes
.text-primary {
	color: var(--docs-primary) !important;
}

.text-secondary {
	color: var(--docs-secondary) !important;
}

.bg-primary {
	background-color: var(--docs-primary) !important;
}

.bg-secondary {
	background-color: var(--docs-secondary) !important;
}

.btn-primary {
	background-color: var(--docs-primary);
	border-color: var(--docs-primary);

	&:hover {
		background-color: $color-primary-dark;
		border-color: $color-primary-dark;
	}
}

.btn-outline-primary {
	color: var(--docs-primary);
	border-color: var(--docs-primary);

	&:hover {
		background-color: var(--docs-primary);
		border-color: var(--docs-primary);
	}
}