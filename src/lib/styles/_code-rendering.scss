// Code Rendering Components
// CodeRenderer, CodeBlock, CodeShowcase, and highlight.js theme

@use './variables' as *;

// CodeRenderer - Core code content styles
.code-content {
	margin: 0;
	padding: 1rem;
	background-color: $pre-bg-color;
	color: $pre-text-color;
	overflow-x: auto;
	font-family: $font-family-monospace;
	font-size: $code-font-size;
	line-height: 1.5;

	&.has-title {
		padding-top: 0.75rem;
	}

	// Nested code element styles
	> code {
		background: none;
		padding: 0;
		color: inherit;
		font-size: inherit;
		font-family: inherit;
	}
}

// CodeBlock - Block container styles
.code-block {
	position: relative;
	margin: 1rem 0;
	border-radius: 0.5rem;
	overflow: hidden;
	background-color: $pre-bg-color;

	.code-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 0.75rem 1rem;
		background-color: $code-header-bg;
		border-bottom: 1px solid $code-header-border;
	}

	.code-title {
		color: $pre-text-color;
		font-size: 0.9em;
		font-weight: 500;
	}

	.copy-button {
		background: none;
		border: 1px solid $code-header-border;
		color: $code-button-color;
		padding: 0.25rem 0.5rem;
		border-radius: 0.25rem;
		cursor: pointer;
		font-size: 0.8em;
		transition: all 0.2s;

		&:hover {
			background-color: $code-header-border;
			color: $pre-text-color;
		}

		&.floating {
			position: absolute;
			top: 0.5rem;
			right: 0.5rem;
			padding: 0.375rem;
			border-radius: 0.375rem;
			background-color: $code-header-bg;
		}
	}
}

// CodeShowcase - Tabbed code display styles
.code-showcase {
	margin: 1.5rem 0;

	.code-tabs {
		border-bottom: 2px solid var(--docs-border);
		margin-bottom: 0;

		.nav-link {
			color: var(--docs-body-color);
			border: none;
			border-bottom: 3px solid transparent;
			border-radius: 0;
			padding: 0.75rem 1rem;
			transition: all 0.2s ease;
			background: none;
			cursor: pointer;
			display: flex;
			align-items: center;

			&:hover {
				color: var(--docs-primary);
				background-color: rgba(var(--docs-primary-rgb), 0.05);
			}

			&.active {
				color: var(--docs-primary);
				background-color: transparent;
				border-bottom-color: var(--docs-primary);
				font-weight: 500;
			}
		}
	}

	.code-content {
		background-color: $pre-bg-color;
		border-radius: 0 0 0.5rem 0.5rem;
		position: relative;
		min-height: 100px;
		padding: 1.5rem !important; // Override default for showcase

		.copy-button {
			position: absolute;
			top: 0.75rem;
			right: 0.75rem;
			background-color: rgba(255, 255, 255, 0.1);
			border: 1px solid rgba(255, 255, 255, 0.2);
			color: $code-button-color;
			padding: 0.375rem 0.75rem;
			border-radius: 0.375rem;
			cursor: pointer;
			font-size: 0.8rem;
			transition: all 0.2s;
			z-index: 2;

			&:hover {
				background-color: rgba(255, 255, 255, 0.2);
				color: $pre-text-color;
			}

			&.copied {
				background-color: rgba(34, 197, 94, 0.2);
				border-color: rgba(34, 197, 94, 0.4);
				color: #86efac;
			}
		}
	}
}

// Highlight.js theme customization for dark theme
.code-content .hljs-keyword,
.code-content .hljs-selector-tag,
.code-content .hljs-literal,
.code-content .hljs-section,
.code-content .hljs-link {
	color: $syntax-keyword-color;
}

.code-content .hljs-string,
.code-content .hljs-attr {
	color: $syntax-string-color;
}

.code-content .hljs-comment,
.code-content .hljs-quote {
	color: $syntax-comment-color;
	font-style: italic;
}

.code-content .hljs-number,
.code-content .hljs-regexp,
.code-content .hljs-literal {
	color: $syntax-number-color;
}

.code-content .hljs-function,
.code-content .hljs-title {
	color: $syntax-function-color;
}

.code-content .hljs-variable,
.code-content .hljs-template-variable {
	color: $syntax-variable-color;
}

.code-content .hljs-tag,
.code-content .hljs-name {
	color: $syntax-tag-color;
}

.code-content .hljs-type,
.code-content .hljs-class,
.code-content .hljs-built_in {
	color: $syntax-type-color;
}

.code-content .hljs-attribute {
	color: $syntax-attribute-color;
}

.code-content .hljs-symbol,
.code-content .hljs-bullet,
.code-content .hljs-link {
	color: $syntax-symbol-color;
}
